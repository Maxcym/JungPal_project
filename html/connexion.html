<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Link to the external CSS stylesheet for styling the page -->
    <link href="../css/connexion.css" rel="stylesheet">
    <!-- Link to an external font from Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Lexend Mega' rel='stylesheet'>
    <!-- Set the character encoding of the document to UTF-8 -->
    <meta charset="UTF-8">
    <title>Connexion</title>
</head>

<body>
<header>
    <nav>
        <!-- Link to the homepage with a logo image -->
        <a href="homepage.html"><img id="image" src="../Images/Logo.jpeg" alt="Elderly Companions Logo"></a>
        <!-- Website title -->
        <h1>Elderly Companions</h1>
        <!-- Link to the homepage -->
        <a href="homepage.html"><div id="home">Home</div></a>
    </nav>
</header>

<div class="login-page">
    <div class="form">
        <!-- Login form for user authentication -->
        <form action="../php/login.php" method="post">
            <!-- Input field for email with a placeholder -->
            <input type="text" name="email" placeholder="E-mail" required>
            <!-- Input field for password with a placeholder -->
            <input type="password" name="password" placeholder="Password" required>
            <!-- Login button -->
            <button id ="login">login</button>
            <!-- Message for users who are not registered with a link to the registration page -->
            <p class="message">Not registered? <a href="Registration.html">Create an account</a></p>
        </form>
    </div>
</div>
<!-- <script src="../js/login.js"></script> -->
<script>
    document.getElementById('loginForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the default form submission

        // Gather form data
        const formData = new FormData(event.target);

        // Convert form data to URL-encoded string
        const formDataObject = Object.fromEntries(formData.entries());
        const formDataString = new URLSearchParams(formDataObject).toString();

        // Send the login request using fetch API
        fetch('path/to/your/login/script.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: formDataString
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                console.log('User ID:', data.user_id); // Print user_id in the console
            } else {
                console.error('Error:', data.message);
            }
        })
        .catch(error => console.error('Fetch Error:', error));
    });
</script>
</body>
</html>
